<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Event</title>
    <link rel="icon" href="/images/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/styles/styles.css">
</head>
<body>
    <!-- HEADER -->
    <header style="background-color: #3b7a57; padding: 15px 20px; color: white; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
        <div style="display: flex; align-items: center; justify-content: space-between;">
            <!-- Logo and Website Name -->
            <a href="/admin-welcome">
                <div style="display: flex; align-items: center;">
                    <img src="/images/logo.png" alt="Website Logo" class="logo">
                    <h1 style="margin: 0; font-size: 24px; color: white;">TURTLE SHELTER PROJECT - ADMINISTRATOR</h1>
                </div>
            </a>

            <!-- Navigation Links -->
            <nav>
                <ul style="list-style: none; display: flex; margin: 0; padding: 0;">
                    <li style="margin: 0 10px;"><a href="/admin-welcome" style="color: white; text-decoration: none; font-weight: bold;">Admin Home</a></li>
                    <li style="margin: 0 10px;"><a href="/volunteer-manage" style="color: white; text-decoration: none; font-weight: bold;">Volunteers</a></li>
                    <li style="margin: 0 10px;"><a href="/event-manage" style="color: white; text-decoration: none; font-weight: bold;">Events</a></li>
                    <li style="margin: 0 10px;"><a href="/user-manage" style="color: white; text-decoration: none; font-weight: bold;">Users</a></li>
                    <li style="margin: 0 10px;"><a href="/" style="color: white; text-decoration: none; font-weight: bold;">Back to Public Home</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <div class="container mt-5">
        <!-- Form for an event request -->
        <h1>Event Request Form</h1>
        <form action="/admin-add-event" method="POST" onsubmit="return validateForm()">
            <div class="mb-3">
                <label for="number-of-people">How many people:</label>
                <input type="number" id="number-of-people" name="number-of-people" min="1" required>
            </div>
                
            <div class="mb-3">
                <label>Event Type:</label>
                <div class="form-check">
                    <input type="radio" id="event-sewing" name="event-type" value="sewing" required>
                    <label for="event-sewing">Sewing</label>
                </div>
    
                <div class="form-check">
                    <input type="radio" id="event-non-sewing" name="event-type" value="non-sewing">
                    <label for="event-non-sewing">Non-sewing</label>
                </div>
                
                <div class="form-check">
                    <input type="radio" id="event-both" name="event-type" value="both">
                    <label for="event-both">Both</label>
                </div>
            </div>
    
            <div class="mb-3">
                <label for="event-date">Date:</label>
                <input type="date" id="event-date" name="event-date" required>
            </div>
    
            <div class="mb-3">
                <label for="backup-date">Backup Date:</label>
                <input type="date" id="backup-date" name="backup-date" required>
            </div>
    
            <div class="mb-3">
                <label for="street-address">Event Street Address:</label>
                <input type="text" id="street-address" name="street-address" required>
            </div>
    
            <div class="mb-3">
                <label for="city">City:</label>
                <input type="text" id="city" name="city" required>
            </div>
    
            <div class="mb-3">
                <label for="state">State:</label>
                <input type="text" id="state" name="state" required>
            </div>
    
            <div class="mb-3">
                <label for="zip">Zip Code:</label>
                <input type="text" id="zip" name="zip" required>
            </div>
    
            <div class="mb-3">
                <label for="room">Room Type (e.g., Living Room, Gymnasium, etc.):</label>
                <input type="text" id="room" name="room" required>
            </div>
    
            <div class="mb-3">
                <label for="group">Group (e.g., youth group, school club, etc.):</label>
                <input type="text" id="group" name="group" required>
            </div>
    
            <div class="mb-3">
                <label for="start-time">Desired Start Time:</label>
                <input type="time" id="start-time" name="start-time" required>
            </div>
    
            <div class="mb-3">
                <label for="event-length">Event Length (in hours):</label>
                <input type="number" id="event-length" name="event-length" min="1" required>
            </div>
    
            <div class="mb-3">
                <label for="first_name">Contact First Name:</label>
                <input type="text" id="first_name" name="first_name" required>
            </div>
    
            <div class="mb-3">
                <label for="last_name">Contact Last Name:</label>
                <input type="text" id="last_name" name="last_name" required>
            </div>
    
            <div class="mb-3">
                <label for="phone-number">Phone Number:</label>
                <input type="tel" id="phone-number" name="phone-number" required>
            </div>
    
            <div class="mb-3">
                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" required>
            </div>
    
            <div class="mb-3">
                <label>Would you like Jen to share her story?</label>
                <div class="form-check">
                    <input type="radio" id="jen-share-yes" name="jen-share" value="true" required>
                    <label for="jen-share-yes">Yes</label>
                </div>
    
                <div class="form-check">
                    <input type="radio" id="jen-share-no" name="jen-share" value="false">
                    <label for="jen-share-no">No</label>
                </div>
            </div>
    
            <div class="mb-3">
                <label for="advanced-sewing">How many people in your group have advanced sewing skills?</label>
                <input type="number" id="advanced-sewing" name="advanced-sewing" min="0" required>
            </div>
    
            <div class="mb-3">
                <label for="basic-sewing">How many people in your group have basic sewing skills?</label>
                <input type="number" id="basic-sewing" name="basic-sewing" min="0" required>
            </div>
    
            <div class="mb-3">
                <label for="sewing-machines">How many sewing machines can you provide?</label>
                <input type="number" id="sewing-machines" name="sewing-machines" min="0" required>
            </div>
    
            <div class="mb-3">
                <label for="sergers">How many sergers can your group bring?</label>
                <input type="number" id="sergers" name="sergers" min="0" required>
            </div>
    
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        </div>
    
        <!-- FOOTER -->
        <footer style="background-color: #3b7a57; padding: 15px 20px; color: white; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <p>Turtle Shelter Project - PO Box 382, Kaysville, UT 84037</p>
            <p>Phone: (801) 872-3190</p>
            <p>Email: <a href="mailto:turtleshelterproject@gmail.com">turtleshelterproject@gmail.com</a></p>
            <p>
                <a href="https://www.facebook.com/turtleshelterproject/" target="_blank">Visit our Facebook Page</a>
            </p>
        </footer>
    
        <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script>
            function validateForm() {
                // Get values from form
                const numberOfPeople = parseInt(document.getElementById('number-of-people').value.trim());
                const eventDate = new Date(document.getElementById('event-date').value);
                const backupDate = new Date(document.getElementById('backup-date').value);
                const streetAddress = document.getElementById('street-address').value.trim();
                const city = document.getElementById('city').value.trim();
                const state = document.getElementById('state').value.trim();
                const zip = document.getElementById('zip').value.trim();
                const room = document.getElementById('room').value.trim();
                const group = document.getElementById('group').value.trim();
                const startTime = document.getElementById('start-time').value.trim();
                const eventLength = parseInt(document.getElementById('event-length').value.trim());
                const firstName = document.getElementById('first_name').value.trim();
                const lastName = document.getElementById('last_name').value.trim();
                const phoneNumber = document.getElementById('phone-number').value.trim();
                const email = document.getElementById('email').value.trim();
                const advancedSewing = parseInt(document.getElementById('advanced-sewing').value.trim());
                const basicSewing = parseInt(document.getElementById('basic-sewing').value.trim());
                const sewingMachines = parseInt(document.getElementById('sewing-machines').value.trim());
                const sergers = parseInt(document.getElementById('sergers').value.trim());

                // Current date for comparison
                const today = new Date();
                today.setHours(0, 0, 0, 0); // Normalize to start of day

                // Validation messages
                let messages = [];

                // Event date must be in the future
                if (isNaN(eventDate.getTime()) || eventDate <= today) {
                    messages.push('Event date must be in the future.');
                }

                // Backup date must be in the future
                if (isNaN(backupDate.getTime()) || backupDate <= today) {
                    messages.push('Backup date must be in the future.');
                }

                // Start time must be a valid time
                if (!startTime) {
                    messages.push('Event start time must be a valid time.');
                }

                // Event attendees must be greater than 0
                if (isNaN(numberOfPeople) || numberOfPeople <= 0) {
                    messages.push('Number of participants must be greater than 0.');
                }

                // Street address must be 50 characters or less
                if (streetAddress.length > 50) {
                    messages.push('Event street address must be 50 characters or less.');
                }

                // City must be 25 characters or less
                if (city.length > 25) {
                    messages.push('Event city must be 25 characters or less.');
                }

                // Check state (2 letters)
                if (!/^[A-Za-z]{2}$/.test(state)) {
                    messages.push('State must be exactly two letters.');
                }

                // Zip code must be 10 characters or less
                if (zip.length > 10) {
                    messages.push('Event zip code must be 10 characters or less.');
                }

                // Room type must be 50 characters or less
                if (room.length > 50) {
                    messages.push('Room type must be 50 characters or less.');
                }

                // Event association must be 50 characters or less
                if (group.length > 50) {
                    messages.push('Event group must be 50 characters or less.');
                }

                // Event length must be greater than 0
                if (isNaN(eventLength) || eventLength <= 0) {
                    messages.push('Event length must be greater than 0.');
                }

                // First name must be 25 characters or less
                if (firstName.length > 25) {
                    messages.push('Contact first name must be 25 characters or less.');
                }

                // Last name must be 25 characters or less
                if (lastName.length > 25) {
                    messages.push('Contact last name must be 25 characters or less.');
                }

                // Phone number must contain only numeric values and be 15 characters or less
                if (!/^\d+$/.test(phoneNumber) || phoneNumber.length > 15) {
                    messages.push('Phone number must contain only numeric values and be 15 characters or less.');
                }

                // Email address must contain @ and be 25 characters or less
                if (!email.includes('@') || email.length > 25) {
                    messages.push('Email address must contain the @ symbol and be 25 characters or less.');
                }

                // Advanced sewing count must be 0 or more
                if (isNaN(advancedSewing) || advancedSewing < 0) {
                    messages.push('Advanced sewing count must be 0 or more.');
                }

                // Basic sewing count must be 0 or more
                if (isNaN(basicSewing) || basicSewing < 0) {
                    messages.push('Basic sewing count must be 0 or more.');
                }

                // Sewing machine count must be 0 or more
                if (isNaN(sewingMachines) || sewingMachines < 0) {
                    messages.push('Sewing machine count must be 0 or more.');
                }

                // Sergers count must be 0 or more
                if (isNaN(sergers) || sergers < 0) {
                    messages.push('Sergers count must be 0 or more.');
                }

                // If there are validation errors, show alerts and prevent form submission
                if (messages.length > 0) {
                    alert(messages.join('\n'));
                    return false;
                }

                return true; // Allow form submission
            }
        </script>
    </body>
    </html>